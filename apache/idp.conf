<Location /idp/profile/SAML2/SOAP/ECP> 


#    ShibCompatValidUser On
    AuthName "Umbrella - ECP profile"
    AuthType Basic
    AuthBasicProvider ldap
    AuthLDAPURL ldap://localhost/ou=people,dc=umbrellaid,dc=org?uid
    AuthLDAPBindDN "cn=admin"
    AuthLDAPBindPassword "root"
    AuthMerging Or
    AuthLDAPBindAuthoritative on
    Require valid-user

#    AuthType Basic
#    AuthName "Umbrella - ECP profile"
#    AuthBasicProvider ldap
#    AuthLDAPURL ldap://localhost/ou=people,dc=umbrellaid,dc=org?uid
#    AuthLDAPBindDN "cn=admin"
#    AuthLDAPBindPassword "root"

#    AuthzLDAPAuthoritative Off
#    require valid-user
</Location> 

<Location /secure>
    AuthType shibboleth
    ShibRequireSession On
    Require user ~ ^.+$
</Location>

Alias /idp/Logout /idp/profile/Logout

ProxyPass /idp ajp://localhost:8009/idp
ProxyPassReverse /idp ajp://localhost:8009/idp
